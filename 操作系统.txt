操作系统的功能：
进程管理，内存管理，文件管理，设备管理	
	
线程和进程的区别：
进程是程序的一次执行，是系统进行资源分配和调度的独立单位
线程是进程更小的单位，一个进程包括多个线程，线程共享同一进程下的方法区和堆，
各个线程又有自己的程序计数器，本地方法栈和虚拟机栈，一个进程下的多个线程可能会相互有依赖关系，线程有上下文切换

线程和协程的区别：
协程是一种基于线程之上，但又比线程更加轻量级的存在，一般协程就是指用户态的轻量级线程，正如一个进程可以拥有多个线程来说，一个线程也可以拥有多个协程。

操作系统调度进程的方法：
①：先到先服务：从就绪队列中取出一个最先进入队列的进程进行调度。
②：短作业优先：从就绪的进程中，选择一个执行时间最短的进行调度。
③：时间片轮询：为每一个进程都分配一个时间片，即该进程只能在对应时间片内执行
④：优先级：为每一个进程分配一个优先级，根据优先级调度

内存管理：操作系统的内存管理主要就是负责内存的分配和回收，负责地址转换，将虚拟地址转换成相应的物理地址。

内存管理的方式：虚拟内存管理

什么是虚拟内存？
虚拟内存是一种内存管理的技术，这个在windows当中十分常见，很多程序所占用的内存大小远远超过了我们物理内存的大小，正是通过虚拟内存才可以让这些程序运行。使用虚拟内存会更有效的管理内存
并减少出错

为什么要有虚拟地址呢？
①：因为使用虚拟地址可以防止程序对物理内存的直接访问，避免程序对系统造成破坏   ②：使用虚拟地址可以方便的同时运行多个程序 ③：多个虚拟地址可指向同一个物理地址

内存管理机制：①：块式管理：将内存空间分成多个块，每个块内包含一个进程。当程序需要内存时，就为程序分配一个块，如果程序所需的内存很小，那么分配的块就浪费了（块中未被利用的空间称为碎片）
	       ②：页式管理：将内存空间分成多个页，页相比块来说较小，提高了内存的利用率
	       ③：段式管理：将内存空间分成多个段，段相比页来说更小一点，（虽然页式提高了利用率，但很多页实际上并没有意义，而每个段内定义了一组逻辑信息）使用段，内存的利用率更有显著提高。
	       ④：段页式管理：结合了页式管理和段式管理的优点。

分页机制和分段机制的区别：
共同点：分页机制和分段机制都是为了提高内存利用率，减少内存碎片，页和段都是离散存储的。
区别：页的大小是固定的由操作系统决定，段的大小取决于当前运行的进程

CPU寻址：所谓寻址就是寻找物理内存地址，现在CPU使用最多的寻址方式是虚拟寻址方式，使用虚拟寻址，CPU需要将虚拟地址转化为物理地址，这样才能访问到真正的物理内存（通过CPU当中一个被称为
	内存管理单元的硬件进行转换）

零拷贝：
使用零拷贝可以大大减少内核态到用户态的数据拷贝，从而大大提高性能（详细在netty中记录）

用户态/内核态
为什么操作系统分为用户态和内核态？
因为在CPU指令中，有一些指令是非常危险的，比如说清内存、设时钟，因此指令有分为特权指令和非特权指令，这些特权指令只能在内核态执行
用户态切换到内核态的方法：
用户态通过系统调用进入内核态，比如：进程上下文切换，调用一些函数也会切换(阻塞/唤醒)
硬件通过触发信号，导致内核调用中断处理程序，进入内核态。		